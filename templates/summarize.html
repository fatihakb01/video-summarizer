{% extends 'base.html' %}

{% block content %}
<!-- Center-aligned container for video upload section -->
<div class="d-flex justify-content-center align-items-center flex-column" style="height: 50vh;">
    <!-- Page title -->
    <h2>Summarize Uploaded Video</h2>
    <!-- Short instructions for users -->
    <p>Upload a video file below to generate a summarized version.</p>

    <!-- Form for uploading video file and submitting for summarization -->
    <form class="form-inline justify-content-center" method="POST" action="{{ url_for('summarize_page') }}" enctype="multipart/form-data">
        <!-- File input group with 'Choose file' and trash icon to clear selection -->
        <div class="input-group mb-4" style="width: 100%; max-width: 600px;">
            <div class="custom-file">
                <!-- File input for video file, required to proceed -->
                <input id="video-file" class="custom-file-input" type="file" name="video_file" aria-describedby="clear-file" style="height: 50px;" required>
                <label class="custom-file-label" for="video-file">Choose file</label> <!-- Label dynamically updates with file name -->
            </div>
            <!-- Clear file button with trash icon to reset file input -->
            <div class="input-group-append">
                <button type="button" class="btn btn-danger" id="clear-file" style="height: 38px;">
                    <i class="fas fa-trash"></i> <!-- Trash icon for clear button -->
                </button>
            </div>
        </div>
        <!-- Submit button to send file for summarization -->
        <button class="btn btn-primary mb-2" type="submit">Summarize</button>
    </form>

    <!-- Placeholder for displaying messages or status information from backend -->
    <p>{{ info }}</p>
</div>

<!-- Include Font Awesome for using icons (e.g., trash icon) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<!-- Reference to the trash icon logic -->
<script src="{{ url_for('static', filename='js/summarize.js') }}"></script>
{% endblock %}
